<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:view="com.masuland.loginexample.spring.view.*"
	width="100%" height="100%"
	visible="{ appModel.isApplicationVisible }" 
	>
	
	<mx:Metadata>
		[RouteEvents(events="LoadStyleEvent.EVENT_NAME, LoadLayoutEvent.EVENT_NAME, LoadLocaleEvent.EVENT_NAME")]
		[Event(name="LoadStyleEvent.EVENT_NAME", type="com.masuland.loginexample.spring.control.event.LoadStyleEvent")]
		[Event(name="LoadLayoutEvent.EVENT_NAME", type="com.masuland.loginexample.spring.control.event.LoadLayoutEvent")]
		[Event(name="LoadLocaleEvent.EVENT_NAME", type="com.masuland.loginexample.spring.control.event.LoadLocaleEvent")]
	</mx:Metadata>
	
	<mx:Script>
		<![CDATA[
			import com.masuland.loginexample.spring.control.event.LoadLayoutEvent;
			import com.masuland.loginexample.spring.control.event.LoadLocaleEvent;
			import com.masuland.loginexample.spring.control.event.LoadStyleEvent;
			import com.masuland.loginexample.spring.model.AppModel;
			import com.masuland.loginexample.spring.vo.LayoutVO;
			import com.masuland.loginexample.spring.vo.LocaleVO;
			import com.masuland.loginexample.spring.vo.StyleVO;
			
			[Autowired]
			[Bindable]
			public var appModel:AppModel;
		]]>
	</mx:Script>
	
	<mx:VBox
		right="5" top="5"
		horizontalAlign="right"
		>
		<mx:HBox
			verticalAlign="middle"
			>
			<mx:Label
				text="{ resourceManager.getString('resources', 'txt_change_layout') }"
				/>
			<mx:ComboBox
				id="cb_layout"
				dataProvider="{ appModel.settings.layouts }"
				change="dispatchEvent(new LoadLayoutEvent(LayoutVO( cb_layout.selectedItem )));"
				/>
		</mx:HBox>
		<mx:HBox
			verticalAlign="middle"
			>
			<mx:Label
				text="{ resourceManager.getString('resources', 'txt_change_style') }"
				/>
			<mx:ComboBox
				id="cb_style"
				dataProvider="{ appModel.currentLayout.styles }"
				change="dispatchEvent(new LoadStyleEvent(StyleVO( cb_style.selectedItem )));"
				/>
		</mx:HBox>
		<mx:HBox
			verticalAlign="middle"
			>
			<mx:Label
				text="{ resourceManager.getString('resources', 'txt_change_locale') }"
				/>
			<mx:ComboBox
				id="cb_locale"
				dataProvider="{ appModel.currentLayout.locales }"
				change="dispatchEvent(new LoadLocaleEvent(LocaleVO( cb_locale.selectedItem )));"
				/>
		</mx:HBox>
	</mx:VBox>
	
	<view:LayoutStack
		horizontalCenter="0" verticalCenter="0"
		currentState="{ appModel.currentLayout.stateName }"
		/>
	
</mx:Canvas>
