<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:view="com.masuland.loginexample.cairngorm221.view.*"
	width="100%" height="100%"
	visible="{ appModel.isApplicationVisible }" 
	>
	
	<mx:Script>
		<![CDATA[
			import com.masuland.loginexample.cairngorm221.control.event.LoadLayoutEvent;
			import com.masuland.loginexample.cairngorm221.control.event.LoadLocaleEvent;
			import com.masuland.loginexample.cairngorm221.control.event.LoadStyleEvent;
			import com.masuland.loginexample.cairngorm221.model.AppModel;
			import com.masuland.loginexample.cairngorm221.vo.LayoutVO;
			import com.masuland.loginexample.cairngorm221.vo.LocaleVO;
			import com.masuland.loginexample.cairngorm221.vo.StyleVO;
			
			[Bindable]
			public var appModel:AppModel = AppModel.getInstance();
		]]>
	</mx:Script>
	
	<mx:Text
		left="5" top="5"
		text="Cairngorm 2.2.1 - Login Example (Fx3)"
		styleName="appTitle"
		/>
	
	<mx:VBox
		right="5" top="5"
		horizontalAlign="right"
		>
		<mx:HBox
			verticalAlign="middle"
			>
			<mx:Label
				text="{resourceManager.getString('resources', 'txt_change_layout')}"
				/>
			<mx:ComboBox
				id="cb_layout"
				dataProvider="{ appModel.settings.layouts }"
				change="new LoadLayoutEvent(LayoutVO( cb_layout.selectedItem )).dispatch();"
				/>
		</mx:HBox>
		<mx:HBox
			verticalAlign="middle"
			>
			<mx:Label
				text="{resourceManager.getString('resources', 'txt_change_style')}"
				/>
			<mx:ComboBox
				id="cb_style"
				dataProvider="{ appModel.currentLayout.styles }"
				change="new LoadStyleEvent(StyleVO( cb_style.selectedItem )).dispatch();"
				/>
		</mx:HBox>
		<mx:HBox
			verticalAlign="middle"
			>
			<mx:Label
				text="{resourceManager.getString('resources', 'txt_change_locale')}"
				/>
			<mx:ComboBox
				id="cb_locale"
				dataProvider="{ appModel.currentLayout.locales }"
				change="new LoadLocaleEvent(LocaleVO( cb_locale.selectedItem )).dispatch();"
				/>
		</mx:HBox>
	</mx:VBox>
	
	<view:LayoutStack
		horizontalCenter="0" verticalCenter="0"
		currentState="{ appModel.currentLayout.stateName }"
		/>
	
</mx:Canvas>
